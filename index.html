<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tunes · Equations of Honey</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' x='0.1em' font-size='90'%3E%F0%9F%8E%B5%3C/text%3E%3C/svg%3E">
<style>
  :root{--bg:#0c0b0a;--ink:#f3efe7;--honey:#ffc847;--honey2:#ffb300;--card:#141210;--line:#26231f}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:radial-gradient(1200px 800px at 20% 0%,#171513,#0a0908 70%),var(--bg);color:var(--ink);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
  h1{margin:0;font-size:clamp(18px,3.5vw,26px)} .sub{opacity:.8;font-size:13px}
  .now{border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:rgba(255,200,71,.08)}
  .main{display:grid;grid-template-columns:1fr;gap:16px;margin-top:16px}
  @media(min-width:900px){.main{grid-template-columns:1fr 1fr}}
  .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
  @media(max-width:700px){.grid{grid-template-columns:repeat(4,1fr)}}
  .tile{border:1px solid var(--line);background:linear-gradient(180deg,#191715,#121110);border-radius:10px;padding:10px;text-align:center;cursor:pointer}
  .tile small{opacity:.7}
  .tile[data-active="true"]{outline:2px solid var(--honey);box-shadow:0 0 0 3px rgba(255,200,71,.18)}
  .section{border:1px solid var(--line);border-radius:12px;background:var(--card)}
  .section h2{margin:0;padding:10px 12px;border-bottom:1px solid var(--line);font-size:14px;opacity:.9}
  .pad{padding:12px}
  .player{aspect-ratio:16/9;width:100%;border:0;border-radius:12px;display:block;background:#000}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:8px}
  .btn{border:1px solid var(--line);background:linear-gradient(180deg,#1b1815,#14120f);color:var(--ink);padding:8px 10px;border-radius:10px;cursor:pointer;text-decoration:none;display:inline-block}
  .pill{border:1px solid var(--line);padding:6px 10px;border-radius:999px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <h1>Tunes · Equations of Honey</h1>
      <div class="sub">Anchors: D01–D42 · IL1–IL6 · cyclic · victory</div>
    </div>
    <div class="now" id="now">Now Playing: D01</div>
  </header>

  <div class="main">
    <div class="section">
      <h2>Days 1–42</h2>
      <div class="pad"><div class="grid" id="days"></div></div>
    </div>

    <div class="section">
      <h2>Player</h2>
      <div class="pad">
        <iframe id="yt" class="player" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        <div class="row">
          <a id="openYT" class="btn" target="_blank" rel="noopener">Open on YouTube</a>
          <button id="copyLink" class="btn">Copy Link</button>
          <span class="pill" id="linkText" style="font-size:12px;opacity:.85"></span>
        </div>
      </div>
    </div>

    <div class="section" style="grid-column:1/-1">
      <h2>Interludes + Extras</h2>
      <div class="pad"><div class="row" id="extras"></div></div>
    </div>
  </div>
</div>

<script>
  // Playlist + explicit day mapping (replace/extend as needed)
  var PLAYLIST = "PL2H7n7qLAdf5NQd7hZyh_mWnYPKErpVk3";
  // If you want to load an external JSON instead, fetch('/illumina-map.json') and merge.
  var map = {
    d01:{type:"video",id:"RZIzD0ZfTFg",title:"White America"},
    d02:{type:"video",id:"xaPNR-_Cfn0",title:"HOT TO GO!"},
    d03:{type:"video",id:"Mru9GG3ur9U",title:"Honey"},
    d04:{type:"video",id:"h3pJZSTQqIg",title:"Strawberry Swing"},
    d05:{type:"video",id:"w3KOowB4k_k",title:"Honey (Mariah Carey)"},
    d06:{type:"video",id:"tvTRZJ-4EyI",title:"HUMBLE."},
    d07:{type:"video",id:"jxKjOOR9sPU",title:"Sweet Disposition"},
    d08:{type:"video",id:"LjxulQ1bEWg",title:"Taste"},
    d09:{type:"video",id:"WZzcY7ASQno",title:"Froot"},
    d10:{type:"video",id:"a9HIaGcBocc",title:"Do It"},
    d11:{type:"video",id:"SmbmeOgWsqE",title:"Good As Hell"},
    d12:{type:"video",id:"P00HMxdsVZI",title:"Truth Hurts"},
    d13:{type:"video",id:"XDeiovnCv1o",title:"Take A Bow"},
    d14:{type:"video",id:"1lyu1KKwC74",title:"Bitter Sweet Symphony"},
    d15:{type:"video",id:"cjIvu7e6Wq8",title:"Work It"},
    d16:{type:"video",id:"XaCrQL_8eMY",title:"Juice"},
    d17:{type:"video",id:"4gazNwzC4H0",title:"Controversy"},
    d18:{type:"video",id:"DCYmJDO2_IE",title:"Cinnamon Girl"},
    d19:{type:"video",id:"iWOyfLBYtuU",title:"Dog Days Are Over"},
    d20:{type:"video",id:"oygrmJFKYZY",title:"Don't Start Now"},
    d21:{type:"video",id:"ApXoWvfEYVU",title:"Sunflower"},
    d22:{type:"video",id:"WDZJPJV__bQ",title:"Formation"},
    d23:{type:"video",id:"6CvuyaKmLnw",title:"Illuminated (Live)"},
    d24:{type:"video",id:"HZnNt9nnEhw",title:"HONEY (ARE U COMING?)"},
    d25:{type:"video",id:"GsVcUzP_O_8",title:"Express Yourself"},
    d26:{type:"video",id:"lEIqjoO0-Bs",title:"Savage Remix"},
    d27:{type:"video",id:"ewRjZoRtu0Y",title:"Paper Planes"},
    d28:{type:"video",id:"dvgZkm1xWPE",title:"Viva La Vida"},
    d29:{type:"video",id:"xFYQQPAOz7Y",title:"Lose Yourself"},
    d30:{type:"video",id:"nfWlot6h_JM",title:"Shake It Off"},
    d31:{type:"video",id:"TUVcZfQe-Kw",title:"Levitating"},
    d32:{type:"video",id:"O9rk6ldyFkA",title:"ENERGY"},
    d33:{type:"video",id:"5oWyMakvQew",title:"Dreams"},
    d34:{type:"video",id:"UmPgMc3R8zg",title:"Edge of Seventeen"},
    d35:{type:"video",id:"wV1FrqwZyKw",title:"Born This Way"},
    d36:{type:"video",id:"k4V3Mo61fJM",title:"Fix You"},
    d37:{type:"video",id:"Z-48u_uWMHY",title:"Alright"},
    d38:{type:"video",id:"gl1aHhXnN1k",title:"thank u, next"},
    d39:{type:"video",id:"TJAfLE39ZZ8",title:"Back To Black"},
    d40:{type:"video",id:"3xUfCUFPL-8",title:"XO"},
    d41:{type:"video",id:"r4l9bFqgMaQ",title:"Nights"},
    d42:{type:"video",id:"xGytDsqkQY8",title:"Closing Time"}
  };

  var days = document.getElementById('days');
  for (var i=1;i<=42;i++){
    var tag = "d"+String(i).padStart(2,"0");
    var b = document.createElement('div');
    b.className = "tile"; b.setAttribute("data-tag", tag);
    b.innerHTML = "<div><b>D"+String(i).padStart(2,"0")+"</b><br><small>Day "+i+"</small></div>";
    b.onclick = (t=>()=>select(t))(tag);
    days.appendChild(b);
  }
  var extras = document.getElementById('extras');
  [["il1","IL1"],["il2","IL2"],["il3","IL3"],["il4","IL4"],["il5","IL5"],["il6","IL6"],["cyclic","Cyclic"],["victory","Victory"]]
    .forEach(([tag,label])=>{
      var a=document.createElement('a'); a.className="btn"; a.textContent=label; a.href="#"+tag;
      a.onclick=e=>{e.preventDefault(); select(tag);}
      extras.appendChild(a);
    });

  var now = document.getElementById('now'), yt = document.getElementById('yt'),
      openYT=document.getElementById('openYT'), copyLink=document.getElementById('copyLink'),
      linkText=document.getElementById('linkText');

  function embedFor(tag){
    var m = map[tag];
    if(m && m.type==="video"){ return { src:"https://www.youtube.com/embed/"+m.id+"?rel=0&modestbranding=1", open:"https://youtu.be/"+m.id }; }
    if(m && m.type==="playlist"){ return { src:"https://www.youtube.com/embed/videoseries?list="+m.id+"&rel=0&modestbranding=1", open:"https://www.youtube.com/playlist?list="+m.id }; }
    if(/^d\d{2}$/.test(tag)){
      var idx=parseInt(tag.slice(1),10);
      return { src:"https://www.youtube.com/embed/videoseries?list="+PLAYLIST+"&rel=0&modestbranding=1&index="+idx, open:"https://www.youtube.com/playlist?list="+PLAYLIST+"&index="+idx };
    }
    return { src:"https://www.youtube.com/embed/videoseries?list="+PLAYLIST+"&rel=0&modestbranding=1", open:"https://www.youtube.com/playlist?list="+PLAYLIST };
  }
  function labelFor(tag){
    if(/^d\d{2}$/.test(tag)) return "D"+tag.slice(1);
    if(/^il\d$/.test(tag)) return tag.toUpperCase();
    if(tag==="cyclic") return "Cyclic";
    if(tag==="victory") return "Victory";
    return "D01";
  }
  function select(tag){
    document.querySelectorAll(".tile").forEach(c=>c.setAttribute("data-active","false"));
    if(/^d\d{2}$/.test(tag)){ var card=days.querySelector('[data-tag="'+tag+'"]'); if(card) card.setAttribute("data-active","true"); }
    var e=embedFor(tag); yt.src=e.src; openYT.href=e.open;
    var link=location.origin+location.pathname+"#"+tag; linkText.textContent=link;
    now.textContent="Now Playing: "+labelFor(tag); history.replaceState(null,"","#"+tag);
  }
  function fromHash(){
    var m=(location.hash||"").replace("#","").toLowerCase();
    if(m && (/^d\d{2}$/.test(m)||/^il\d$/.test(m)||m==="cyclic"||m==="victory")) select(m); else select("d01");
  }
  copyLink.onclick=()=>{ var text=linkText.textContent||location.href; if(navigator.clipboard){navigator.clipboard.writeText(text);} };
  window.addEventListener("hashchange", fromHash); fromHash();
</script>
</body>
</html>
